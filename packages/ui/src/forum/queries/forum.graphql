fragment ForumCategoryFields on ForumCategory {
  id
  title
  description
  moderators {
    id
  }
}

fragment ForumSubCategoryFields on ForumCategory {
  id
  title
}

fragment ForumCategoryBreadcrumbsFields on ForumCategory {
  ...ForumSubCategoryFields
  parent {
    ...ForumSubCategoryFields
    parent {
      ...ForumSubCategoryFields
      parent {
        ...ForumSubCategoryFields
        parent {
          ...ForumSubCategoryFields
          parent {
            ...ForumSubCategoryFields
            parent {
              ...ForumSubCategoryFields
            }
          }
        }
      }
    }
  }
}

fragment ForumThreadFields on ForumThread {
  id
  isSticky
  categoryId
  title
  authorId
}

fragment ForumPostFields on ForumPost {
  ...ForumPostWithoutReplyFields
  repliesTo {
    ...ForumPostWithoutReplyFields
  }
}

fragment ForumPostWithoutReplyFields on ForumPost {
  id
  createdAt
  updatedAt
  author {
    ...MemberFields
  }
  text
  authorId
  postaddedeventpost {
    createdAt
    inBlock
    network
  }
}

fragment ForumThreadDetailedFields on ForumThread {
  ...ForumThreadFields
  createdInEvent {
    createdAt
    inBlock
    network
  }
}

query GetForumCategories($where: ForumCategoryWhereInput) {
  forumCategories(where: $where) {
    ...ForumCategoryFields
  }
}

query GetForumCategoryBreadcrumbs($where: ForumCategoryWhereUniqueInput!) {
  forumCategoryByUniqueInput(where: $where) {
    ...ForumCategoryBreadcrumbsFields
  }
}

query GetForumThreads($where: ForumThreadWhereInput!) {
  forumThreads(where: $where) {
    ...ForumThreadFields
  }
}

query GetForumThreadsIDs {
  forumThreads {
    id
  }
}

query GetForumThread($where: ForumThreadWhereUniqueInput!) {
  thread: forumThreadByUniqueInput(where: $where) {
    ...ForumThreadDetailedFields
  }
}

query GetForumPosts($where: ForumPostWhereInput!, $offset: Int, $limit: Int) {
  forumPosts(where: $where, offset: $offset, limit: $limit, orderBy: [createdAt_ASC]) {
    ...ForumPostFields
  }
}

query GetForumPostEdits($id: ID!) {
  edits: postTextUpdatedEvents(where: {post: {id_eq: $id}}) {
    newText
    network
    createdAt
    inBlock
  }
}

query GetForumPostsCount($where: ForumPostWhereInput!) {
  forumPostsConnection(where: $where) {
    totalCount
  }
}

